name: purefareceiver

# Optional: OTel Semantic Conventions version that will be associated with the scraped metrics.
# This attribute should be set for metrics compliant with OTel Semantic Conventions.
# sem_conv_version: 1.9.0

#Labels from metrics
#[dimension="", name="", space="", component_name="", component_type="", host="", hostgroup="", volume="", naa_id="",pod="", volume_group=""

# Optional: map of resource attribute definitions with the key being the attribute name.
resource_attributes:
# registers or recursos
#  <attribute.name>:
#    # Required: description of the attribute.
#    description:
#    # Required: attribute type.
#    type: <string|int|double|bool|bytes>

# Optional: map of attribute definitions with the key being the attribute name and value
# being described below.
attributes:
  #<attribute.name>:
  dimension: 
    # Optional: if the attribute name as described by the key is not the actual attribute
    # value to be reported that value can be overridden here.
    # value: 
    # Required: description of the attribute.
    description: Dimension of the metric
    # Optional: array of attribute values if they are static values.
    # enum:
    # Optional: attribute type. Default: string.
    type: string
  name:
    description: The name of FlashArray label
    type: string
  space:
    description: Represents the local where the metric are stored
    type: string
  host:
    description: Literally the host that represent where the metrics status is in
    type: string
  component_name:
    description: The name of the component metric
    type: string
  component_type:
    description: The type of the component metric
    type: string
  volume:
    description: The volume where the metrics recorded by the containing label is in
    type: string
  hostgroup:
    description: The group that the hosts belongs to
    type: string            
  naa_id:
    description: Represents globally unique identifier for a specific LUN in FlashArray 
    type: string  
  pod:
    description: It is a group of volumes that can be replicated across multiple arrays for replication
    type: string 
  volume_group:
    description: Literally the group that the volume belongs
    type: string         

# Required: map of metric names with the key being the metric name and value
# being described below.

## ARRAY
metrics:
  purefa_array_performance_average_bytes:
    # Required: whether the metric is collected by default.
    enabled: # true | false
    # Required: metric description.
    description: FlashArray array average operations size
    # Optional: extended documentation of the metric.
    # extended_documentation:
    # Required: metric unit as defined by https://ucum.org/ucum.html.
    unit: byte
    # Required: metric type with its settings.
    gauge:
      # Required for sum and gauge metrics: type of number data point values.
      value_type: int # int | double
      # Required for sum metric: whether the metric is monotonic (no negative delta values).
      monotonic: true
      # Required for sum metric: whether reported values incorporate previous measurements
      # (cumulative) or not (delta).
      aggregation: cumulative # delta | cumulative
    # Optional: array of attributes that were defined in the attributes section that are emitted by this metric.
    attributes: dimension
  purefa_array_performance_bandwidth_bytes:
    enabled: 
    description: FlashArray array throughput  
    unit: byte
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: dimension
# HELP purefa_array_performance_latency_usec FlashArray array latency
# TYPE purefa_array_performance_latency_usec gauge
purefa_array_performance_latency_usec:
    enabled: 
    description: FlashArray array latency
    unit: microsecond
    gauge:
      value_type: int 
      monotonic: false
      aggregation: cumulative
    attributes: dimension
# HELP purefa_array_performance_queue_depth_ops 
# TYPE purefa_array_performance_queue_depth_ops gauge
#purefa_array_performance_queue_depth_ops 0
purefa_array_performance_queue_depth_ops:
    enabled: 
    description: FlashArray array queue depth size
    unit:
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
# HELP purefa_array_performance_throughput_iops 
# TYPE purefa_array_performance_throughput_iops gauge
purefa_array_performance_throughput_iops:
    enabled: 
    description: FlashArray array throughput
    unit: operation
    gauge:    
      value_type: int
      monotonic: true
      aggregation: cumulative
    attributes: dimension
# HELP purefa_array_space_bytes 
# TYPE purefa_array_space_bytes gauge
purefa_array_space_bytes: 
    enabled: 
    description: FlashArray array space in bytes
    unit: byte
    gauge:
      value_type: int
      monotonic: true
      aggregation: cumulative
    attributes: space
# HELP purefa_array_space_data_reduction_ratio 
# TYPE purefa_array_space_data_reduction_ratio gauge
purefa_array_space_data_reduction_ratio:  
    enabled:    
    description: FlashArray array space data reduction
    unit:
    gauge:
      value_type: int
      monotonic: true
      aggregation: cumulative
# HELP purefa_array_space_utilization 
# TYPE purefa_array_space_utilization gauge
#purefa_array_space_utilization 0.022310346834307968
purefa_array_space_utilization:
    enabled:  
    description: FlashArray array space utilization in percent
    unit:
    gauge:
      value_type: int
      monotonic: true
      aggregation: cumulative
# HELP purefa_hw_component_status 
# TYPE purefa_hw_component_status gauge
purefa_hw_component_status: 
    enabled: 
    description: FlashArray hardware component status 
    unit:  
    gauge:  
      value_type: int
      monotonic: true
      aggregation: cumulative
    attributes: [component_name, component_type]
# HELP purefa_hw_component_temperature_celsius 
# TYPE purefa_hw_component_temperature_celsius gauge
purefa_hw_component_temperature_celsius:
    enabled: 
    description: FlashArray hardware component temperature
    unit: degree celsius
    gauge:
      value_type: int
      monotonic: true
      aggregation: cumulative
    attributes: [component_name, component_type]
# HELP purefa_hw_component_voltage_volt 
# TYPE purefa_hw_component_voltage_volt gauge
purefa_hw_component_voltage_volt:
    enabled:
    description: FlashArray hardware component voltage
    unit: volt
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: [component_name, component_type] 

##DIRECTORIES
# HELP purefa_directory_performance_average_bytes 
# TYPE purefa_directory_performance_average_bytes gauge
purefa_directory_performance_average_bytes:
    enabled:
    description: FlashArray directory average operations size
    unit:
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: [dimension, name]

# HELP purefa_directory_performance_bandwidth_bytes 
# TYPE purefa_directory_performance_bandwidth_bytes gauge
purefa_directory_performance_bandwidth_bytes:
    enabled:
    description: FlashArray directory throughput
    unit: byte
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: [dimension, name]

# HELP purefa_directory_performance_latency_usec 
# TYPE purefa_directory_performance_latency_usec gauge
purefa_directory_performance_latency_usec:
    enabled:
    description: FlashArray directory latency
    unit: microsecond
    gauge:
      value_type: int 
      monotonic: false
      aggregation: cumulative
    attributes: [dimension, name]

# HELP purefa_directory_performance_throughput_iops 
# TYPE purefa_directory_performance_throughput_iops gauge
purefa_directory_performance_throughput_iops:
    enabled:
    description: FlashArray directory throughput
    unit: operation
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: [dimension, name]

# HELP purefa_directory_space_bytes 
# TYPE purefa_directory_space_bytes gauge
purefa_directory_space_bytes:
    enabled:
    description: FlashArray directory space in bytes
    unit: byte
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: [name, space]

# HELP purefa_directory_space_data_reduction_ratio 
# TYPE purefa_directory_space_data_reduction_ratio gauge
purefa_directory_space_data_reduction_ratio:
    enabled:
    description: FlashArray directory space data reduction
    unit:
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: name

##HOSTS
# HELP purefa_host_connections_info 
# TYPE purefa_host_connections_info gauge
purefa_host_connections_info:
    enabled:
    description: FlashArray host volumes connections
    unit:
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: [host, hostgroup, volume]

# HELP purefa_host_performance_average_bytes 
# TYPE purefa_host_performance_average_bytes gauge
purefa_host_performance_average_bytes:
    enabled:
    description: FlashArray host average operations size
    unit: byte
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: [dimension, host]

# HELP purefa_host_performance_bandwidth_bytes 
# TYPE purefa_host_performance_bandwidth_bytes gauge
purefa_host_performance_bandwidth_bytes:
    enabled:
    description: FlashArray host throughput
    unit: byte
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: [dimension, host]

# HELP purefa_host_performance_latency_usec 
# TYPE purefa_host_performance_latency_usec gauge
purefa_host_performance_latency_usec:
    enabled:
    description: FlashArray host latency
    unit: microsecond
    gauge:
      value_type: int 
      monotonic: false
      aggregation: cumulative
    attributes: [dimension, host]

# HELP purefa_host_performance_throughput_iops 
# TYPE purefa_host_performance_throughput_iops gauge
purefa_host_performance_throughput_iops:
    enabled:
    description:
    unit: operation
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: [dimension, host]

# HELP purefa_host_space_bytes 
# TYPE purefa_host_space_bytes gauge
purefa_host_space_bytes:
    enabled:
    description: FlashArray host space in bytes
    unit: byte
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: [host, space]

# HELP purefa_host_space_data_reduction_ratio 
# TYPE purefa_host_space_data_reduction_ratio gauge
purefa_host_space_data_reduction_ratio:
    enabled:
    description: FlashArray host space data reduction
    unit:
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: host

##PODS

# HELP purefa_pod_performance_average_bytes 
# TYPE purefa_pod_performance_average_bytes gauge
purefa_pod_performance_average_bytes:
    enabled:
    description: FlashArray pod average operations size
    unit: byte
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: [dimension, name]

# HELP purefa_pod_performance_bandwidth_bytes 
# TYPE purefa_pod_performance_bandwidth_bytes gauge
purefa_pod_performance_bandwidth_bytes:
    enabled:
    description: FlashArray pod throughput
    unit: byte
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: [dimension, name]

# HELP purefa_pod_performance_latency_usec 
# TYPE purefa_pod_performance_latency_usec gauge
purefa_pod_performance_latency_usec:
    enabled:
    description: FlashArray pod latency
    unit: microsecond
    gauge:
      value_type: int 
      monotonic: false
      aggregation: cumulative
    attributes: [dimension, name]

# HELP purefa_pod_performance_throughput_iops 
# TYPE purefa_pod_performance_throughput_iops gauge
purefa_pod_performance_throughput_iops:
    enabled:
    description: FlashArray pod throughput
    unit: operation
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: [dimension, name]

# HELP purefa_pod_space_bytes 
# TYPE purefa_pod_space_bytes gauge
purefa_pod_space_bytes:
    enabled:
    description: FlashArray pod space in bytes
    unit: byte
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: [name, space]

# HELP purefa_pod_space_data_reduction_ratio 
# TYPE purefa_pod_space_data_reduction_ratio gauge
purefa_pod_space_data_reduction_ratio:
    enabled:
    description: FlashArray pod space data reduction
    unit:
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: name

# HELP purefa_volume_performance_average_bytes 
# TYPE purefa_volume_performance_average_bytes gauge
purefa_volume_performance_average_bytes:
    enabled:
    description: FlashArray volume average operations size
    unit: byte
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: [dimension, naa_id, name]

# HELP purefa_volume_performance_bandwidth_bytes 
# TYPE purefa_volume_performance_bandwidth_bytes gauge
purefa_volume_performance_bandwidth_bytes:
    enabled:
    description: FlashArray volume throughput
    unit: byte
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: [dimension, naa_id, name]

# HELP purefa_volume_performance_latency_usec 
# TYPE purefa_volume_performance_latency_usec gauge
purefa_volume_performance_latency_usec:
    enabled:
    description: FlashArray volume latency
    unit: microsecond
    gauge:
      value_type: int 
      monotonic: false
      aggregation: cumulative
    attributes: [dimension, naa_id, name]

# HELP purefa_volume_performance_throughput_iops 
# TYPE purefa_volume_performance_throughput_iops gauge
purefa_volume_performance_throughput_iops:
    enabled:
    description: FlashArray volume throughput
    unit: operation
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: [dimension, naa_id, name]

# HELP purefa_volume_space_bytes 
# TYPE purefa_volume_space_bytes gauge
purefa_volume_space_bytes:
    enabled:
    description: FlashArray volume space in bytes
    unit: byte
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: [naa_id, name, pod, space, volume_group]

# HELP purefa_volume_space_data_reduction_ratio 
# TYPE purefa_volume_space_data_reduction_ratio gauge
purefa_volume_space_data_reduction_ratio:
    enabled:
    description: FlashArray volume space data reduction
    unit:
    gauge:
      value_type: int 
      monotonic: true
      aggregation: cumulative
    attributes: [naa_id, name, pod, volume_group]